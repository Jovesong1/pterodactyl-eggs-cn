{
    "_comment": "DO NOT EDIT: FILE GENERATED AUTOMATICALLY BY PTERODACTYL PANEL - PTERODACTYL.IO",
    "meta": {
        "version": "PTDL_v2",
        "update_url": null
    },
    "exported_at": "2025-04-02T17:59:04+02:00",
    "name": "Satisfactory",
    "author": "red_thirten@yahoo.com",
    "description": "幸福工厂是一款第一人称开放世界工厂建造游戏，融合了探索和战斗元素。独自或与朋友一起游玩，探索外星球，创建多层工厂，进入传送带天堂！",
    "features": [
        "steam_disk_space"
    ],
    "docker_images": {
        "ghcr.io\/ptero-eggs\/steamcmd:debian": "ghcr.io\/ptero-eggs\/steamcmd:debian"
    },
    "file_denylist": [],
    "startup": ".\/Engine\/Binaries\/Linux\/*-Linux-Shipping FactoryGame -Port={{SERVER_PORT}} -ReliablePort={{RELIABLE_PORT}}",
    "config": {
        "files": "{\r\n    \"FactoryGame\/Saved\/Config\/LinuxServer\/Game.ini\": {\r\n        \"parser\": \"ini\",\r\n        \"find\": {\r\n            \"[\/Script\/Engine.GameSession].MaxPlayers\": \"{{server.build.env.MAX_PLAYERS}}\"\r\n        }\r\n    },\r\n    \"FactoryGame\/Saved\/Config\/LinuxServer\/Engine.ini\": {\r\n        \"parser\": \"ini\",\r\n        \"find\": {\r\n            \"[\/Script\/FactoryGame.FGSaveSession].mNumRotatingAutosaves\": \"{{server.build.env.NUM_AUTOSAVES}}\",\r\n            \"[\/Script\/OnlineSubsystemUtils.IpNetDriver].InitialConnectTimeout\": \"{{server.build.env.INIT_CONNECT_TIMEOUT}}\",\r\n            \"[\/Script\/OnlineSubsystemUtils.IpNetDriver].ConnectionTimeout\": \"{{server.build.env.CONNECT_TIMEOUT}}\"\r\n        }\r\n    }\r\n}",
        "startup": "{\r\n    \"done\": \"Engine Initialization\"\r\n}",
        "logs": "{}",
        "stop": "^C"
    },
    "scripts": {
        "installation": {
            "script": "#!\/bin\/bash\r\n\r\n# File: Pterodactyl Satisfactory Egg - egg-satisfactory.json\r\n# Authors: Red-Thirten, Kubi, matthewp, Software-Noob, and Zarklord\r\n# Date: 2024\/09\/10\r\n# License: MIT License\r\n\r\n## Download and install SteamCMD\r\ncd \/tmp\r\ncurl -sSL -o steamcmd.tar.gz https:\/\/steamcdn-a.akamaihd.net\/client\/installer\/steamcmd_linux.tar.gz\r\nmkdir -p \/mnt\/server\/steamcmd\r\ntar -xzvf steamcmd.tar.gz -C \/mnt\/server\/steamcmd\r\ncd \/mnt\/server\/steamcmd\r\n\r\n# SteamCMD fails otherwise for some reason, even running as root.\r\nchown -R root:root \/mnt\r\nexport HOME=\/mnt\/server\r\n\r\n# Install game server using SteamCMD\r\n.\/steamcmd.sh +force_install_dir \/mnt\/server +login anonymous +app_update ${SRCDS_APPID} $( [[ -z ${SRCDS_BETAID} ]] || printf %s \"-beta ${SRCDS_BETAID}\" ) $( [[ -z ${SRCDS_BETAPASS} ]] || printf %s \"-betapassword ${SRCDS_BETAPASS}\" ) validate +exit\r\n\r\n# Set up 32 and 64 bit libraries\r\nmkdir -p \/mnt\/server\/.steam\/sdk{32,64}\r\ncp -v linux32\/steamclient.so \/mnt\/server\/.steam\/sdk32\/steamclient.so\r\ncp -v linux64\/steamclient.so \/mnt\/server\/.steam\/sdk64\/steamclient.so\r\n\r\n## Satisfactory setup\r\n# Check for successful installation and make the server binary executable.\r\n# Use `find` to see if a valid server binary exists using a wildcard, because\r\n# the binary name may change in the future.\r\n# (eg. it changed when the engine was updated from UE4 to UE5)\r\ncd \/mnt\/server\/Engine\/Binaries\/Linux\r\ncount=$(find . -maxdepth 1 -name '*-Linux-Shipping' -type f -executable | wc -l)\r\nif [[ $count -eq 0 ]]; then\r\n    echo -e \"\\n\\nSteamCMD failed to install the Satisfactory Dedicated Server!\"\r\n    echo -e \"\\tTry reinstalling the server again.\\n\"\r\n    exit 1\r\nelse\r\n    chmod +x *-Linux-Shipping\r\nfi\r\n\r\necho -e \"\\nSatisfactory Dedicated Server successfully installed!\\n\"",
            "container": "ghcr.io\/ptero-eggs\/installers:debian",
            "entrypoint": "\/bin\/bash"
        }
    },
    "variables": [
        {
            "name": "自动更新",
            "description": "启动时快速检查服务器更新，如有必要则进行更新。(1 启用 | 0 禁用)",
            "env_variable": "AUTO_UPDATE",
            "default_value": "1",
            "user_viewable": true,
            "user_editable": true,
            "rules": "boolean",
            "field_type": "text"
        },
        {
            "name": "[修复] 验证服务器文件",
            "description": "留空（无值）表示关闭，或输入\"true\"或\"1\"表示开启。当启用自动更新时验证所有服务器文件。注意：这将显著增加服务器启动时间，因此建议仅在需要时启用。",
            "env_variable": "VALIDATE",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "string|nullable",
            "field_type": "text"
        },
        {
            "name": "轮换自动保存数量",
            "description": "服务器保留的会话自动保存数量，超过此数量后，最旧的保存将被删除，其他保存将在列表中下移。",
            "env_variable": "NUM_AUTOSAVES",
            "default_value": "3",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|integer|min:0",
            "field_type": "text"
        },
        {
            "name": "[实验性] 最大玩家数",
            "description": "服务器和客户端目前未针对支持超过4名玩家进行优化。但是，您可以在此处自行承担性能不佳的风险覆盖此值。",
            "env_variable": "MAX_PLAYERS",
            "default_value": "4",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|integer|min:1",
            "field_type": "text"
        },
        {
            "name": "[高级] 客户端初始连接超时",
            "description": "在销毁连接之前等待建立新客户端连接的秒数。",
            "env_variable": "INIT_CONNECT_TIMEOUT",
            "default_value": "30",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|numeric|min:1",
            "field_type": "text"
        },
        {
            "name": "[高级] 客户端已建立连接超时",
            "description": "在认为已建立的客户端连接超时之前等待的秒数。通常比等待初始连接的时间短，因为此连接应该已经设置好，任何中断都应该更快地被捕获。",
            "env_variable": "CONNECT_TIMEOUT",
            "default_value": "20",
            "user_viewable": true,
            "user_editable": true,
            "rules": "required|numeric|min:1",
            "field_type": "text"
        },
        {
            "name": "[高级] 分支名称",
            "description": "[接受的值：\"public\"、\"experimental\"，或留空以使用服务器的主分支] 用于下载或切换到游戏服务器的非主分支。如果服务器已安装，\"自动更新\"和\"验证服务器文件\"必须设置为\"1\"才能切换分支。注意：任何非主分支可能不完全兼容/稳定！",
            "env_variable": "SRCDS_BETAID",
            "default_value": "",
            "user_viewable": true,
            "user_editable": true,
            "rules": "string|nullable|in:public,experimental",
            "field_type": "text"
        },
        {
            "name": "[高级] 幸福工厂专用服务器应用ID",
            "description": "用于安装和更新的Steam应用ID。",
            "env_variable": "SRCDS_APPID",
            "default_value": "1690800",
            "user_viewable": false,
            "user_editable": false,
            "rules": "required|integer|in:1690800",
            "field_type": "text"
        },
        {
            "name": "可靠端口",
            "description": "可靠消息端口。版本1.1或更高版本需要。",
            "env_variable": "RELIABLE_PORT",
            "default_value": "8888",
            "user_viewable": true,
            "user_editable": false,
            "rules": "required|integer|min:0|max:65535",
            "field_type": "text"
        }
    ]
} 